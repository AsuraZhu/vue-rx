<script src="https://unpkg.com/@reactivex/rxjs/dist/global/Rx.js"></script>
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<script src="../vue-rx.js"></script>

<div id="app">
  <div>{{ count }}</div>
  <button v-stream:click="plus$">Add on Click</button>
  <button
    v-stream:click="minus$"
    v-stream:mousemove="minus$">
    Minus on Click &amp; Mousemove
  </button>
</div>

<script>
new Vue({
  el: '#app',
  data:function () {
    return {
      delta1: 1,
      delta2: -1
    }
  },
  created:function () {
    //Speed up after 10s
    setTimeout(() => {
      this.delta2 = -5
    }, 10 * 1000)
  },
  domStreams: ['plus$', 'minus$'],
  subscriptions:function () {
    var plus = this.plus$.map(o => this.delta1)
    var minus = this.minus$.map(o => this.delta2)
    var count$ = Rx.Observable.merge(plus, minus)
      .startWith(0)
      .scan((total, change) => total + change);

    return {
      count: count$
    }
  }
})
</script>
