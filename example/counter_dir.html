<script src="https://unpkg.com/@reactivex/rxjs/dist/global/Rx.js"></script>
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<script src="../vue-rx.js"></script>

<div id="app">
  <div>{{ count }}</div>
  <button v-stream:plus$.click="{delta:delta1}" class="plus">Add on Click</button>
  <button v-stream:minus$.click.mousemove="delta2" class="minus">Minus on Click & Mousemove</button>
</div>

<script>
new Vue({
  el: '#app',
  data:function () {
    return {
      delta1:1,
      delta2:-1
    }
  },
  subscriptions:function () {
    var vm = this;

    var plus$ = new Rx.Subject();
    var minus$ = new Rx.Subject();

	  var count$ = Rx.Observable.merge(plus$.map(o => o.data.delta), minus$.map(o => o.data))
          .startWith(0)
          .scan((total, change) => total + change);

    return {
		minus$: minus$,
		plus$: plus$,
		count:count$
    }
  }
})
</script>
